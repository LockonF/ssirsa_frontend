<!--   Created by Emmanuel on 02/09/2016.-->
<div layout="column">
    <div layout="row" flex="" layout-padding="" layout-fill="" layout-align="center center">

        <md-card flex="90" flex-sm="100" flex-xs="100" class="md-padding-card1">

            <md-card-title ng-hide="vm.hideEntrada">
                <md-card-title-text><span class="md-headline">{{'Entrance'|translate}}</span></md-card-title-text>
            </md-card-title>
            <md-card-title ng-hide="vm.hideSalida">
                <md-card-title-text><span class="md-headline">{{'Output'|translate}}</span></md-card-title-text>
            </md-card-title>
            <md-tabs layout-padding="true" md-dynamic-height="100" md-border-bottom="100" md-selected="vm.selectedTab">
                <md-tab label="Datos generales">
                    <md-content layout-padding="">
                        <form name="entradaForm" novalidate="">
                            <div layout="row" layout-sm="column" layout-xs="column" layout-align="center center" layout-align-sm="center stretch" layout-align-xs="center stretch">
                                <md-input-container flex="80" flex-sm="100" flex-xs="100" class="md-block">
                                    <label>{{'Driver.Name'|translate}}</label>
                                    <input name="DriverName" md-no-asterisk="" required="" type="text" ng-model="vm.entrada.nombre_chofer"/>
                                    <div ng-messages="entradaForm.DriverName.$error">
                                        <div ng-message="required">{{'Required Field'|translate}}</div>
                                    </div>
                                </md-input-container>
                                <md-input-container flex="20" flex-sm="100" flex-xs="100" class="md-block">
                                    <label>{{'Pediment'|translate}}</label>
                                    <input name="Pediment" md-no-asterisk="" required="" type="text" ng-model="vm.entrada.pedimento"/>
                                    <div ng-messages="entradaForm.Pediment.$error">
                                        <div ng-message="required">{{'Required Field'|translate}}</div>
                                    </div>
                                </md-input-container>
                            </div>
                            <div layout="row" layout-sm="column" layout-xs="column" layout-align="center center" layout-align-sm="center stretch" layout-align-xs="center stretch">
                                <md-input-container flex="100" class="md-block">
                                    <label>{{'UDN'|translate}}</label>
                                    <md-select name="selectUDN" ng-model="vm.entrada.udn" required="" md-no-asterisk="">
                                        <md-option ng-repeat="udn in vm.udns" value="{{udn.id}}">{{udn.agencia}}</md-option>
                                    </md-select>
                                    <div ng-messages="entradaForm.selectUDN.$error">
                                        <div ng-message="required">{{'Required Field'|translate}}</div>
                                    </div>
                                </md-input-container>
                                <md-input-container flex="100" class="md-block">
                                    <label>{{'Transport.Line'|translate}}</label>
                                    <md-select name="selectTransportLine" ng-model="vm.entrada.linea_transporte" required="" md-no-asterisk="">
                                        <md-option ng-repeat="linea in vm.lineasTransporte" value="{{linea.id}}">{{linea.razon_social}}</md-option>
                                    </md-select>
                                    <div ng-messages="entradaForm.selectTransportLine.$error">
                                        <div ng-message="required">{{'Required Field'|translate}}</div>
                                    </div>
                                </md-input-container>
                                <md-input-container flex="100" class="md-block">
                                    <label>{{'Transport.Kind'|translate}}</label>
                                    <md-select name="selectTransportKind" ng-model="vm.entrada.tipo_transporte" required="" md-no-asterisk="">
                                        <md-option ng-repeat="tipo in vm.tiposTransporte" value="{{tipo.id}}">{{tipo.descripcion}}</md-option>
                                    </md-select>
                                    <div ng-messages="entradaForm.selectTransportKind.$error">
                                        <div ng-message="required">{{'Required Field'|translate}}</div>
                                    </div>
                                </md-input-container>
                            </div>
                            <div layout="row" layout-sm="column" layout-xs="column" layout-align="center center" layout-align-sm="center stretch" layout-align-xs="center stretch">
                                <md-input-container flex="100" class="md-block">
                                    <label>{{'Subsidiary'|translate}}</label>
                                    <md-select name="selectSubsidiary" ng-model="vm.entrada.sucursal" required="" md-no-asterisk="">
                                        <md-option ng-repeat="sucursal in vm.Sucursales" value="{{sucursal.id}}">{{sucursal.nombre}}</md-option>
                                    </md-select>
                                    <div ng-messages="entradaForm.selectSubsidiary.$error">
                                        <div ng-message="required">{{'Required Field'|translate}}</div>
                                    </div>
                                </md-input-container>
                                <md-input-container flex="100" class="md-block">
                                    <label>{{'Project'|translate}}</label>
                                    <md-select name="selectProject" ng-model="vm.entrada.proyecto" required="" md-no-asterisk="">
                                        <md-option ng-repeat="proyecto in vm.Proyectos" value="{{proyecto.id}}">{{proyecto.descripcion}}</md-option>
                                    </md-select>
                                    <div ng-messages="entradaForm.selectProject.$error">
                                        <div ng-message="required">{{'Required Field'|translate}}</div>
                                    </div>
                                </md-input-container>
                            </div>
                        </form>
                        <div layout="row" flex="100" layout-sm="column" layout-align-sm="center stretch" layout-xs="column" layout-align-xs="center stretch">
                            <p>{{'Driver.IFE'|translate}}</p>
                            <div flex="30" layout="column" layout-align="space-around center">
                                <md-button type="file" ngf-select="vm.selectionImage($file)" accept="image/*" ngf-max-size="1MB" class="md-primary md-raised">{{'Choose Image'|translate}}</md-button>
                            </div>
                        </div>
                        <div flex="80">
                            <div class="md-media-md card-media"><img ngf-src="vm.entrada.ife_chofer" style="max-width:150px" class="thumb"/></div>
                        </div>
                        <div layout="row" layout-align="end center">
                            <md-button ng-click="vm.nextTab()" ng-disabled="entradaForm.$invalid" class="md-raised md-primary">{{'Next'|translate}}</md-button>
                        </div>
                    </md-content>
                </md-tab>
                <!--Registro de cabinets-->
                <md-tab label="Carga de Cabinets" ng-disabled="entradaForm.$invalid">
                    <md-content layout-padding="">
                        <div layout="row" layout-align="space-around center" layout-sm="column" layout-xs="column">
                            <md-button ng-click="vm.showMassiveUpload()" class="md-raised md-primary">{{'Cabinets Massive Upload'|translate}}</md-button>
                            <md-button ng-click="vm.showManualUpload()" class="md-raised md-primary">{{'Cabinets Manual Upload'|translate}}</md-button>
                        </div>
                        <div layout="column" ng-hide="vm.hideMassiveUpload">
                            <!-- Massive Upload-->
                            <div layout="row" layout-sm="column" layout-xs="column" layout-md="column" flex="100" ng-hide="vm.hideMassiveUpload">
                                <md-input-container flex="75" flex-sm="100" flex-xs="100" flex-md="100">
                                    <input name="FileName" type="text" ng-model="vm.entrada.file.name" ng-disabled="true"/>
                                </md-input-container>
                                <div flex="25" flex-sm="100" flex-xs="100" flex-md="100" layout="column">
                                    <md-button ngf-select="vm.selectionFile($file)" accept="'.xlsx'" ngf-max-size="10MB" ng-model="vm.entrada.file" class="md-primary md-raised">{{'Choose File'|translate}}</md-button>
                                </div>
                            </div>
                            <!--<div layout="row" flex="100" ng-hide="vm.hideMassiveUpload">
                                <div flex="20" flex-sm="50" flex-xs="100">
                                    <md-button ng-click="vm.guardar()" class="md-primary md-raised">{{'Upload File'|translate}}</md-button>
                                </div>
                            </div>-->
                            <div layout="row" layout-align="space-around center" layout-sm="column" layout-xs="column" ng-show="vm.responseMassiveUpload.no_creados.length!=null">
                                <md-button class="md-raised md-primary" ng-click="vm.showMarcaDialog(ev)">{{'Create Brand'|translate}}</md-button>
                                <md-button class="md-raised md-primary" ng-click="vm.showModeloDialog(ev)">{{'Create Model'|translate}}</md-button>
                            </div>
                        </div>
                        <div flex="" layout="column" ng-hide="vm.hideRegisteredCabinets">
                            <p>{{'Registered Cabinets'|translate}}</p>
                            <md-table-container>
                                <table md-table="" md-row-select="" multiple="" ng-disabled="true">
                                    <thead md-head="">
                                    <tr md-row="">
                                        <th md-column="">{{'TableCabinets.Headers.Economic Num.'|translate}}</th>
                                        <th md-column="">{{'TableCabinets.Headers.Serial Num.'|translate}}</th>
                                        <th md-column="">{{'TableCabinets.Headers.Brand'|translate}}</th>
                                        <th md-column="">{{'TableCabinets.Headers.Model'|translate}}</th>
                                    </tr>
                                    </thead>
                                    <tbody md-body="">
                                    <tr md-row="" ng-repeat="registeredCabinet in vm.entrada.creados">
                                        <td md-cell="">{{registeredCabinet.economico}}</td>
                                        <td md-cell="">{{registeredCabinet.no_serie}}</td>
                                        <td md-cell="">{{registeredCabinet.modelo.marca.descripcion}}</td>
                                        <td md-cell="">{{registeredCabinet.modelo.nombre}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </md-table-container>
                        </div>
                        <div flex="" layout="column" ng-hide="vm.hideUnregisteredCabinets">
                            <p>{{'Unregistered Cabinets'|translate}}</p>
                            <md-table-container>
                                <table md-table="" md-row-select="" multiple="" ng-disabled="true">
                                    <thead md-head="">
                                    <tr md-row="">
                                        <th md-column="">{{'TableCabinets.Headers.Economic Num.'|translate}}</th>
                                    </tr>
                                    </thead>
                                    <tbody md-body="">
                                    <tr md-row="" ng-repeat="unregisteredCabinet in vm.entrada.no_creados">
                                        <td md-cell="">{{unregisteredCabinet}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </md-table-container>
                        </div>
                        <div layout="row" layout-align="end center">
                            <md-button ng-disabled="entradaForm.$invalid" ng-click="vm.guardar()" class="md-raised md-primary">{{'Save'|translate}}</md-button>
                        </div>
                    </md-content>
                </md-tab>
            </md-tabs>
        </md-card>
    </div>
</div>